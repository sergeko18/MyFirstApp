{"version":3,"sources":["componets/Profile/Profile.module.css","componets/Profile/ProfileInfo/ProfileInfo.module.css","componets/Profile/MyPosts/MyPosts.module.css","componets/Profile/MyPosts/Posts/Post.module.css","componets/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","componets/Profile/ProfileInfo/ProfileInfo.jsx","componets/Profile/MyPosts/Posts/Post.jsx","componets/Profile/MyPosts/PostForm/PostForm.jsx","componets/Profile/MyPosts/MyPosts.jsx","componets/Profile/MyPosts/MyPostsContainer.jsx","componets/Profile/Profile.jsx","componets/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","isOwner","savePhoto","Preloader","className","s","discriptionBlock","img2","src","photos","large","userImg","alt","type","target","files","length","Post","post","item","message","likesCount","maxLength10","maxLengthCreator","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","Textarea","validate","required","MyPosts","React","memo","PostsElements","posts","map","p","id","addPost","newPostElement","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","content","this","PureComponent","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.43fb3efb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__4SXzz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img1\":\"ProfileInfo_img1__VdeuS\",\"img2\":\"ProfileInfo_img2__1mo3j\",\"discriptionBlock\":\"ProfileInfo_discriptionBlock__3WYQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1tuEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3e3LX\",\"post\":\"Post_post__1NNoZ\"};","import React, {useEffect, useState} from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus (props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () =>{\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () =>{\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || \"---------\"} </span>\r\n            </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange}\r\n                       autoFocus={true}\r\n                       onBlur={deactivateEditMode}\r\n                       value={status}></input>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\nimport userImg from \"../../../assets/images/user.png\"\r\n\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto}) => {\r\n    if(!profile){\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n\r\n            <div className={s.discriptionBlock}>\r\n\r\n                <div className={s.img2}>\r\n                    {<img src={profile.photos.large || userImg} alt=\"\"/> }\r\n                </div>\r\n                \r\n                <div>\r\n                    {isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}\r\n                </div>\r\n\r\n                <div>\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus}  />\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={'https://cdn.iconscout.com/icon/free/png-128/skoda-3441045-2874154.png'}/>\r\n\r\n            <div className={s.item}>\r\n                {props.message}\r\n            </div>\r\n\r\n            <div>\r\n                <span>{props.likesCount}</span>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n/*const Post = (props) => {\r\n  return (\r\n\r\n\r\n    <div className={s.item}>\r\n      <img src='https://cdn.iconscout.com/icon/free/png-128/skoda-3441045-2874154.png' />\r\n          {props.message}\r\n        \r\n      <div><span>Like</span> {props.likesCount} </div>\r\n\r\n    </div>\r\n  )\r\n\r\n\r\n\r\n\r\n\r\n\r\n}*/\r\n\r\nexport default Post;","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Enter your post\"} name={\"newPostElement\"} component={Textarea}\r\n                        validate={[required, maxLength10]}\r\n                /><br/>\r\n            </div>\r\n            <dvi>\r\n                <button>Add post</button>\r\n                <button>Remove</button>\r\n            </dvi>\r\n\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({ // <----- THIS IS THE IMPORTANT PART!\r\n    form: 'PostReduxForm',                            // a unique name for this form\r\n    //fields: ['login', 'password', 'rememberMe'] // all the fields in your form\r\n})(PostForm);\r\n\r\n\r\nexport default PostReduxForm;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Posts/Post';\r\nimport PostReduxForm from \"./PostForm/PostForm\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    let PostsElements =\r\n        props.posts.map(p => <Post message={p.message} id={p.id} likesCount={p.likesCount}/>);\r\n\r\n    let addPost = (value) => {\r\n        props.addPost(value.newPostElement)\r\n    }\r\n\r\n\r\n    return <div>\r\n        <div className={s.posts}>\r\n            My posts\r\n            <div>\r\n                <div>\r\n                    <PostReduxForm onSubmit={addPost}/>\r\n                </div>\r\n\r\n                <div>\r\n                    {PostsElements}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n});\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n;\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostElement) => {\r\n            dispatch(addPostActionCreator(newPostElement));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, {PureComponent} from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nclass Profile extends PureComponent {\r\n\r\n    /*shouldComponentUpdate(nextProps, nextState) {\r\n        return nextProps !== this.props || nextState !== this.state\r\n    }*/\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div className={s.content}>\r\n\r\n                <ProfileInfo profile={this.props.profile}\r\n                             status={this.props.status}\r\n                             updateStatus={this.props.updateStatus}\r\n                             isOwner={this.props.isOwner}\r\n                             savePhoto={this.props.savePhoto}\r\n                />\r\n                <MyPostsContainer/>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus, savePhoto} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n\r\n                <Profile\r\n                    {...this.props}\r\n                    isOwner={!this.props.match.params.userId}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatus}\r\n                    savePhoto={this.props.savePhoto}/>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n    withAuthRedirect )\r\n(ProfileContainer)\r\n\r\n\r\n"],"sourceRoot":""}